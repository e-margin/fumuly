# Fumuly（フムリー）開発ガイド

## プロダクトの本質

Fumulyは「封筒無理ー！」を解決するアプリ。ただの情報登録アプリではない。
ADHDを抱えて一人で生活するユーザーの「家族のような存在」になることが目的。

Fumulyの価値は「書類を登録した後」にこそある。
書類のまとめツールではなく、ユーザーの状況を理解して道を示すAI。
スキャンは入口であって、本質はチャットによる継続的な伴走。

開発中は常に以下を意識すること：
- **語りかけるトーン**: 機械的な通知ではなく、横にいる人が話しかけるように
- **一画面一アクション**: 選択肢を増やさない。「これだけやればいい」を提示する
- **電話を勧めない**: Web・コンビニ・郵送など代替手段を必ず優先する
- **深刻な状況でも寄り添う**: 差押・督促でも事実を穏やかに伝え、次の行動を示す
- **「読まなくていい」も立派な回答**: DMや不要な書類は明確にそう伝えてユーザーの負荷を下げる
- **登録後の相談こそ本番**: 「期限近いのあったっけ？」「残金10万しかない」に答えられなければアプリの意味がない

## 設計ドキュメント

`docs/` フォルダに要件定義・技術メモ・デザイン設計など全ドキュメントがある。
実装前に必ず参照すること。

## 技術スタック

- Next.js（App Router） + Tailwind CSS + shadcn/ui
- Supabase（PostgreSQL + Auth）
- Claude API（Vision解析）
- Vercel（ホスティング）
- PWA対応

---

# タスク管理について

このプロジェクトでは `tasks/` フォルダでMarkdownベースのタスク管理を行っています。

## タスクファイルの形式

各タスクは `tasks/task-XXX.md` に1ファイル1タスクで管理されています。

```markdown
---
id: task-001
title: タスクのタイトル
parents: [カテゴリA, カテゴリB]
status: in-progress
depends_on: [task-002, task-003]
this_week: true
completed_at: null
progress: 70
note: 一行メモ
estimated_hours: 4
---

## 本文（Markdown自由記述）
詳細な説明、設計メモ、参考リンクなど
```

## ステータス一覧

| ステータス | 意味 |
|-----------|------|
| `idea` | アイデア段階 |
| `waiting` | 着手待ち |
| `in-progress` | 進行中 |
| `blocked` | ブロック中（依存タスクが未完了等） |
| `done` | 完了 |
| `omit` | やらないことに決定 |

## Gitコミット

- コミットメッセージは日本語で書くこと
- 開発が完了するたびにコミット＆プッシュを行うこと（ユーザーに確認不要）

## Claudeへの指示

### タスクの確認
作業前に `tasks/` フォルダの内容を確認し、現在の状況を把握してください。

### タスクの更新
作業が完了したら、該当タスクのフロントマターを更新してください:
- `status` を適切な値に変更
- `progress` を更新（0-100）
- 完了時は `status: done`、`completed_at: YYYY-MM-DD`、`progress: 100` に設定
- 必要に応じて本文に作業メモを追記

### 新規タスクの作成
新しいタスクが必要な場合:
1. 既存のIDの最大値+1で `task-XXX.md` を作成
2. 上記フォーマットに従ってフロントマターを記述
3. `parents` には既存のカテゴリを使用（新規も可）
4. 前提タスクがあれば `depends_on` に記載

### 進捗報告
`this_week: true` のタスクが今週の作業対象です。作業後は進捗率を更新してください。
